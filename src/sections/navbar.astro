---
import { Icon } from "astro-iconify";
export const links = [
  {
    text: "Home",
    path: "/",
  },
  {
    text: "AI chat",
    path: "/",
  },
  {
    text: "AI Image Generator",
    path: "/",
  },
  {
    text: "AI Video",
    path: "/",
  },
  {
    text: "Text to Speech",
    path: "/",
  },
];
---

<nav
  class:list={[
    " fixed top-0 right-0 w-full z-[6] shadow-none transition-all duration-300 bg-transparent ",
    Astro.props.class,
  ]}
>
  <div class="container flex items-center justify-between w-full h-20">
    <h2 class="h2">Ai</h2>
    <ul class="items-center hidden gap-6 lg:flex">
      {
        links.map((link) => {
          return (
            <li class="font-medium ">
              <a href="#">{link.text}</a>
            </li>
          );
        })
      }
      <button
        class="px-10 py-3 font-medium border-none rounded-lg bg-gradient-to-br from-primary to-secondary"
        >Login</button
      >
    </ul>

    <button id="menuBtn" class="z-10 block lg:hidden"
      ><Icon
        id="menuIcon"
        name="tabler:menu-deep"
        size={48}
        class="transition-all duration-500 ease-in-out"
      /></button
    >
  </div>
</nav>

<script>
  import { isMenuOpen } from "@/stores.js";

  const menuBtn = document.getElementById("menuBtn") as HTMLElement;
  const menuIcon = document.getElementById("menuIcon");
  menuBtn.addEventListener("click", () => {
    isMenuOpen.set(!isMenuOpen.value);

    isMenuOpen.subscribe((open) => {
      if (open) {
        menuIcon?.classList.add("text-orange-500");
        // menuBtn.classList.add("bg-black");
      } else {
        menuIcon?.classList.remove("text-orange-500");
        // menuBtn.classList.remove("bg-black");
      }
    });
    //console.log(isMenuOpen.value);
  });
</script>
